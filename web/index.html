<!doctype html>
<html lang="it">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>What?f ‚Äì Onboarding</title>
  <link rel="stylesheet" href="./styles.css" />
</head>
<body>
  <main class="container">
    <section id="slides" class="slides">
      <article class="slide" aria-label="Scelta porta">
        <div class="logo-wrap">
          <img src="../assets/logos/whatif_door.svg" alt="Logo porta" onerror="fallback(this,`What?f`)">
        </div>
        <h1>Benvenuto su <span class="brand">What?f</span></h1>
        <p class="lead">Le scelte ci definiscono.</p>
        <p class="sublead">What?f ti mostra ‚Äúcome sarebbe andata‚Äù o ‚Äúcome potrebbe andare‚Äù.</p>
        <button class="cta" data-next>CHOOSE YOUR WAY</button>
      </article>

      <article class="slide" aria-label="Scelta bar">
        <div class="logo-wrap">
          <img src="../assets/logos/whatif_bar.svg" alt="Logo bar" onerror="fallback(this,`What the F?!`)">
        </div>
        <p class="lead center">‚Ä¶ or choose your bar!</p>
        <h2 class="neon">What the F?!</h2>
        <p class="sublead center">CHOOSE YOUR WAY</p>
        <button class="cta" data-start>Start</button>
      </article>
    </section>

    <nav class="dots" aria-label="indicatori">
      <button class="dot" aria-label="slide 1" data-dot="0" aria-current="true"></button>
      <button class="dot" aria-label="slide 2" data-dot="1"></button>
    </nav>
  </main>

  <script>
    // Fallback testo se l immagine non carica
    function fallback(img, text){
      const box = document.createElement("div");
      box.className = "fallback";
      box.textContent = text;
      img.replaceWith(box);
    }

    const slides = [...document.querySelectorAll(".slide")];
    const dots   = [...document.querySelectorAll(".dot")];
    let idx = 0;

    function show(i){
      idx = (i+slides.length)%slides.length;
      slides.forEach((s,k)=> s.style.transform = `translateX(${100*(k-idx)}%)`);
      dots.forEach((d,k)=> d.setAttribute("aria-current", k===idx ? "true":"false"));
    }

    dots.forEach(d => d.addEventListener("click", ()=> show(+d.dataset.dot)));
    document.querySelector("[data-next]")?.addEventListener("click", ()=> show(idx+1));
    document.querySelector("[data-start]")?.addEventListener("click", ()=>{
      alert("üéâ App pronta! (Qui collegherai la home vera)");
    });

    // Layout iniziale
    slides.forEach((s,k)=> s.style.transform = `translateX(${100*k}%)`);
  </script>
</body>
</html>
